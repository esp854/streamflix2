<!DOCTYPE html>
<html>
<head>
    <title>Test Direct PayPal SDK v6</title>
    <script src="https://www.sandbox.paypal.com/web-sdk/v6/core"></script>
</head>
<body>
    <h1>Test Direct PayPal SDK v6</h1>
    <div id="paypal-button-container"></div>
    
    <script>
        // Test simple de l'initialisation du SDK PayPal
        window.addEventListener('load', async function() {
            try {
                console.log('PayPal SDK loaded:', !!window.paypal);
                
                if (window.paypal) {
                    // Créer une instance simple du SDK
                    const sdkInstance = await window.paypal.createInstance({
                        // Note: Dans une vraie application, ce serait un clientToken généré côté serveur
                        clientToken: 'fake-token-for-testing',
                        components: ['paypal-payments'],
                        locale: 'fr-FR',
                        pageType: 'checkout'
                    });
                    
                    console.log('SDK Instance created:', sdkInstance);
                    
                    // Vérifier l'éligibilité
                    const paymentMethods = await sdkInstance.findEligibleMethods();
                    console.log('Payment methods:', paymentMethods);
                    
                    // Créer un bouton PayPal
                    const paypalButton = document.createElement('paypal-button');
                    paypalButton.className = 'paypal-gold';
                    paypalButton.setAttribute('type', 'pay');
                    paypalButton.style.width = '200px';
                    paypalButton.style.height = '40px';
                    
                    document.getElementById('paypal-button-container').appendChild(paypalButton);
                    
                    console.log('Test réussi: SDK chargé et bouton créé');
                } else {
                    console.error('Erreur: SDK PayPal non chargé');
                }
            } catch (error) {
                console.error('Erreur lors du test:', error);
            }
        });
    </script>
</body>
</html>