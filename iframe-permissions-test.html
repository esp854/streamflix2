<!DOCTYPE html>
<html>
<head>
    <title>Iframe Permissions Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-container {
            margin: 20px 0;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
        }
        iframe {
            width: 100%;
            height: 300px;
            border: 1px solid #ddd;
            margin-top: 10px;
        }
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1>Iframe Permissions Test</h1>
    
    <div class="test-container">
        <h2>Test 1: Mux Player with Full Permissions</h2>
        <p>Testing with comprehensive allow attributes</p>
        <iframe 
            id="test1"
            src="https://player.mux.com/nxJGpRqIjgXGrfiYf3X01jWUVTpn02yKNfZtFsApwHLXs/embed"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; fullscreen; gyroscope; keyboard-map; magnetometer; microphone; midi; payment; picture-in-picture; publickey-credentials-get; screen-wake-lock; sync-xhr; usb; web-share; xr-spatial-tracking"
            sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation">
        </iframe>
        <div id="status1" class="status">Testing...</div>
    </div>
    
    <div class="test-container">
        <h2>Test 2: Mux Player with Basic Permissions</h2>
        <p>Testing with basic allow attributes</p>
        <iframe 
            id="test2"
            src="https://player.mux.com/nxJGpRqIjgXGrfiYf3X01jWUVTpn02yKNfZtFsApwHLXs/embed"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen">
        </iframe>
        <div id="status2" class="status">Testing...</div>
    </div>
    
    <div class="test-container">
        <h2>Test 3: Mux Stream URL</h2>
        <p>Testing with stream URL</p>
        <iframe 
            id="test3"
            src="https://stream.mux.com/nxJGpRqIjgXGrfiYf3X01jWUVTpn02yKNfZtFsApwHLXs.m3u8"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen">
        </iframe>
        <div id="status3" class="status">Testing...</div>
    </div>

    <script>
        // Test iframe loading
        function testIframe(iframeId, statusId) {
            const iframe = document.getElementById(iframeId);
            const status = document.getElementById(statusId);
            
            iframe.addEventListener('load', function() {
                status.textContent = '✅ Successfully loaded';
                status.className = 'status success';
            });
            
            iframe.addEventListener('error', function(e) {
                status.textContent = '❌ Failed to load: ' + e.message;
                status.className = 'status error';
            });
        }
        
        // Run tests when page loads
        window.addEventListener('load', function() {
            testIframe('test1', 'status1');
            testIframe('test2', 'status2');
            testIframe('test3', 'status3');
        });
    </script>
</body>
</html>